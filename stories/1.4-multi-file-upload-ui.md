# Story 1.4: Implement Multi-File Upload with Progress

## Metadata
- **Epic:** Epic 1 â€” File Upload & Storage System
- **Points:** 5
- **Priority:** Medium
- **Status:** ðŸ”² Not Started

## Description
Create a frontend component for drag-and-drop multi-file upload with progress tracking and error handling.

## User Story
*As a user, I want to upload multiple files at once with progress indication so that I can quickly attach all my experimental data.*

## Acceptance Criteria
- [ ] Frontend component supports drag-and-drop zone
- [ ] Can select multiple files via file picker
- [ ] Shows individual progress bars for each file
- [ ] Uploads files in parallel (max 3 concurrent)
- [ ] Shows overall upload progress
- [ ] Displays success/failure state for each file
- [ ] Failed uploads can be retried
- [ ] Cancel button stops pending uploads

## Technical Details

### Component Structure
```typescript
// src/components/upload/FileUploadZone.tsx
interface FileUploadZoneProps {
  pageId?: string;
  onUploadComplete?: (files: FileAttachment[]) => void;
  maxFiles?: number;
  maxSizeBytes?: number;
}

// src/hooks/useFileUpload.ts
interface UseFileUploadReturn {
  uploadFiles: (files: File[]) => Promise<void>;
  uploads: UploadProgress[];
  isUploading: boolean;
  cancelAll: () => void;
  retryFailed: () => void;
}

interface UploadProgress {
  file: File;
  progress: number; // 0-100
  status: 'pending' | 'uploading' | 'success' | 'error';
  error?: string;
  result?: FileAttachment;
}
```

### UI States
1. **Empty**: Drop zone with icon + "Drag files here"
2. **Drag Over**: Highlighted border, "Drop to upload"
3. **Uploading**: File list with progress bars
4. **Complete**: Success checkmarks, file previews

## Dependencies
- Depends on: 1.3
- Blocks: 1.5 (editor integration)

## Files to Create/Modify
- `src/components/upload/FileUploadZone.tsx`
- `src/components/upload/UploadProgressItem.tsx`
- `src/hooks/useFileUpload.ts`
- `src/components/upload/index.ts`

## Testing
- Unit: Upload hook logic
- Component: Drag-drop interactions
- E2E: Full upload flow

## Complexity
**M (Medium)** â€” Frontend state management
